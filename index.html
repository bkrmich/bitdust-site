<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BitDust</title>
  <style>
    :root{
      --bg:#0f0f0f; --text:#ffffff; --accent:#f6bf3a; --muted:#ffd770;
      --max:780px; --btnW:420px; --radius:24px;
      --navy:#0d1b2a; --gold:#ffd700; --black:#000;
    }
    *{ box-sizing:border-box }
    html, body{ width:100%; overflow-x:hidden; -webkit-text-size-adjust:100%; }
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      text-align:center;
    }
    .wrap{ max-width:var(--max); width:100%; margin:0 auto; padding:24px 16px 56px; }
    .logo img{ max-width:240px; width:100%; height:auto; display:block; margin:10px auto 6px; }
    .coin img{ max-width:260px; width:100%; height:auto; display:block; margin:6px auto 22px; }
    .stack{ display:flex; flex-direction:column; align-items:center; gap:14px; }
    .btn{
      display:block; width:100%; max-width:var(--btnW);
      font-weight:800; border-radius:var(--radius); padding:16px 20px;
      background:var(--accent); color:#000; text-decoration:none; border:none;
      cursor:pointer; transition:transform .06s ease, filter .15s ease;
    }
    .btn:active{ transform:translateY(1px) }

    /* Contract section */
    .contract-box{
      box-sizing:border-box; width:100%; max-width:100%;
      padding:12px 14px; margin:16px 0; border:1px solid #333;
      border-radius:12px; background:var(--black); text-align:center;
    }
    .contract-box h3{
      margin:0 0 6px; font-weight:700; font-size:16px; line-height:1.3; color:var(--gold);
    }
    .contract-line{
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      font-size:14px; line-height:1.4; color:var(--gold);
      background:var(--black); padding:8px 10px; border:1px solid var(--gold);
      border-radius:8px; overflow-wrap:anywhere; word-break:break-word; max-width:100%;
      text-align:center; margin:0 auto;
    }
    .copy-note{ margin-top:8px; font-size:12px; color:#aaa; }

    /* Price cards (navy + gold) */
    .price-wrap{ display:grid; place-items:center; margin-top:20px; width:100%; }
    .price-card{
      background:var(--navy); color:var(--gold); border-radius:8px;
      padding:12px; font:600 18px/1.2 system-ui; width:100%; max-width:320px;
      text-align:center;
    }
    .price-card + .price-card{ margin-top:10px; }

    footer{ margin-top:28px; color:#bbb; font-size:13px; }

    /* Mobile tweaks */
    @media (max-width:600px){
      .btn{ max-width:100%; }
      .contract-box{ padding:8px 10px; margin:12px 0; }
      .contract-box h3{ font-size:14px; margin-bottom:4px; }
      .contract-line{ font-size:12px; padding:6px 8px; }
      .price-card{ font-size:16px; }
      .copy-note{ font-size:11px; }
    }
  </style>
</head>
<body>
  <main class="wrap">
    <!-- Branding -->
    <div class="logo"><img src="logo.png" alt="BitDust Logo"></div>
    <div class="coin"><img src="coin.jpeg" alt="BitDust Coin"></div>

    <!-- Actions -->
    <div class="stack">
      <a class="btn" href="https://raydium.io/swap/?inputCurrency=sol&outputCurrency=6JvXx5usmEHXB3RZjjrk94mcxqAWpFXazSqe9RBSE26z" target="_blank" rel="noopener">Buy on Raydium</a>
      <button class="btn" id="copy-addr-big" type="button">Copy Contract</button>
      <a class="btn" href="whitepaper.pdf" target="_blank" rel="noopener">Download White Paper</a>
      <a class="btn" href="https://jup.ag/swap/SOL-6JvXx5usmEHXB3RZjjrk94mcxqAWpFXazSqe9RBSE26z" target="_blank" rel="noopener">ü™ê Buy on Jupiter</a>
    </div>

    <!-- Contract section -->
    <section class="addr-wrap">
      <div class="contract-box">
        <h3>Official Contract Address</h3>
        <div class="contract-line">6JvXx5usmEHXB3RZjjrk94mcxqAWpFXazSqe9RBSE26z</div>

        <!-- Prices (stacked, centered) -->
        <div class="price-wrap">
          <div class="price-card">Initial Offering Price: $0.10 per token</div>
          <div id="btd-price" class="price-card">Market Price: <span>Loading...</span></div>
        </div>

        <div class="copy-note">Need to copy? Use the <strong>Copy Contract</strong> button above.</div>
      </div>
    </section>

    <footer>¬© BitDust ‚Äî fixed supply ‚Ä¢ 10,000 tokens</footer>
  </main>

  <!-- Copy Contract Script -->
  <script>
    (function () {
      function flash(btn, ok=true){
        if (!btn) return;
        const prev = btn.textContent;
        btn.textContent = ok ? 'Copied!' : 'Copy failed';
        setTimeout(()=> btn.textContent = prev, 1400);
      }
      async function copyAddr(btn){
        try {
          const src = document.querySelector('.contract-line');
          const addr = (src?.textContent || '').trim();
          if (!addr) throw new Error('No address found');
          if (navigator.clipboard && window.isSecureContext) {
            await navigator.clipboard.writeText(addr);
          } else {
            const ta = document.createElement('textarea');
            ta.value = addr; ta.style.position='fixed'; ta.style.top='-1000px';
            document.body.appendChild(ta); ta.select(); document.execCommand('copy');
            document.body.removeChild(ta);
          }
          flash(btn, true);
        } catch (e) {
          console.error(e); flash(btn, false);
          alert('Copy failed. Please copy manually from the address box.');
        }
      }
      document.addEventListener('DOMContentLoaded', () => {
        const big = document.getElementById('copy-addr-big');
        if (big) big.addEventListener('click', () => copyAddr(big));
      });
    })();
  </script>

  <!-- Market Price Script -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const MINT = "6JvXx5usmEHXB3RZjjrk94mcxqAWpFXazSqe9RBSE26z"; // BitDust mint

      async function getBtdUsd() {
        // 1) Jupiter (v6)
        try {
          const r = await fetch(`https://price.jup.ag/v6/price?ids=${MINT}`);
          const d = await r.json();
          const j = d?.data?.[MINT]?.price;
          if (j) return Number(j);
        } catch(_) {}

        // 2) DexScreener fallback
        try {
          const r2 = await fetch(`https://api.dexscreener.com/latest/dex/tokens/${MINT}`);
          const data = await r2.json();
          const p = data?.pairs?.[0]?.priceUsd;
          if (p) return Number(p);
        } catch(_) {}

        return null;
      }

      const el = document.querySelector('#btd-price span');
      async function refresh() {
        const price = await getBtdUsd();
        if (!price) { el.textContent = 'n/a'; return; }
        // 4 decimals if > $0.01, else 6 decimals
        el.textContent = price > 0.01 ? `$${price.toFixed(4)}` : `$${price.toFixed(6)}`;
      }
      refresh();
      setInterval(refresh, 15000);
    });
  </script>
</body>
</html>
